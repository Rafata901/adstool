<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø£Ø¯Ø§Ø© ÙØ­Øµ Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„Ø£Ø¯Ø³Ù†Ø³</title>
<style>
body{font-family:'Tahoma',Arial;direction:rtl;text-align:right;background:#f1f1f1;margin:0;padding:0;}
.container{max-width:800px;margin:40px auto;padding:20px;background:#fff;border-radius:10px;box-shadow:0 0 10px rgba(0,0,0,0.1);}
h2{text-align:center;color:#0b66b2;}
input[type=text]{width:100%;padding:10px;margin:10px 0;border-radius:8px;border:1px solid #ccc;}
button{width:100%;padding:12px;background:#0b66b2;color:#fff;font-size:16px;border:none;border-radius:8px;cursor:pointer;}
#result{margin-top:20px;padding:15px;background:#f9f9f9;border:1px solid #ccc;border-radius:8px;min-height:120px;}
ul{padding-left:20px;}
</style>
</head>
<body>
<div class="container">
<h2>ğŸ“ Ø£Ø¯Ø§Ø© ÙØ­Øµ Ø¬Ø§Ù‡Ø²ÙŠØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù„Ù…Ø·Ø§Ø¨Ù‚Ø© Ø´Ø±ÙˆØ· Ø¬ÙˆØ¬Ù„ Ø£Ø¯Ø³Ù†Ø³</h2>
<input id="siteUrl" type="text" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ù…ÙˆÙ‚Ø¹Ùƒ Ù…Ø«Ù„ https://example.com">
<button onclick="scanSite()">ğŸ” ÙØ­Øµ Ø§Ù„Ù…ÙˆÙ‚Ø¹</button>
<div id="result">ğŸ‘‰ Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙˆØ§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„ÙØ­Øµ</div>
</div>

<script>
function scanSite(){
  let url=document.getElementById("siteUrl").value.trim();
  if(url===""){document.getElementById("result").innerHTML="âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„Ù…ÙˆÙ‚Ø¹.";return;}
  if(!/^https?:\/\//i.test(url)) url="https://"+url;

  document.getElementById("result").innerHTML="â³ Ø¬Ø§Ø±ÙŠ ÙØ­Øµ Ø§Ù„Ù…ÙˆÙ‚Ø¹...";

  // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¨Ø±ÙˆÙƒØ³ÙŠ Ù…Ø¬Ø§Ù†ÙŠ AllOrigins Ù„ØªØ¬Ù†Ø¨ Ù…Ø´Ø§ÙƒÙ„ CORS
  let proxyUrl="https://api.allorigins.win/get?url="+encodeURIComponent(url);

  fetch(proxyUrl)
  .then(res=>res.json())
  .then(data=>{
    let html=data.contents;
    let issues=[];

    // Ø§Ù„Ø¹Ù†ÙˆØ§Ù†
    let titleMatch=html.match(/<title>(.*?)<\/title>/i);
    let title=titleMatch?titleMatch[1]:"";
    if(!title) issues.push("âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù†ÙˆØ§Ù† (title) Ù„Ù„Ù…ÙˆÙ‚Ø¹.");
    else if(title.length<10||title.length>70) issues.push("âš ï¸ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…ÙˆØ¬ÙˆØ¯ Ù„ÙƒÙ† Ø·ÙˆÙ„Ù‡ ØºÙŠØ± Ù…Ù†Ø§Ø³Ø¨ (ÙŠÙØ¶Ù„ Ø¨ÙŠÙ† 10 Ùˆ 70 Ø­Ø±Ù).");
    else issues.push("âœ”ï¸ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ù…Ù†Ø§Ø³Ø¨.");

    // Ø§Ù„ÙˆØµÙ
    let descMatch=html.match(/<meta[^>]+name=["']description["'][^>]+content=["']([^"']+)["']/i);
    let desc=descMatch?descMatch[1]:"";
    if(!desc) issues.push("âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØµÙ (meta description).");
    else if(desc.length<50||desc.length>320) issues.push("âš ï¸ Ø§Ù„ÙˆØµÙ Ù‚ØµÙŠØ± Ø£Ùˆ Ø·ÙˆÙŠÙ„ Ø¬Ø¯Ù‹Ø§ (ÙŠÙØ¶Ù„ Ø¨ÙŠÙ† 50 Ùˆ 320 Ø­Ø±Ù).");
    else issues.push("âœ”ï¸ Ø§Ù„ÙˆØµÙ Ù…Ù†Ø§Ø³Ø¨.");

    // viewport
    if(/<meta[^>]+name=["']viewport["']/i.test(html)) issues.push("âœ”ï¸ ÙˆØ³Ù… viewport Ù…ÙˆØ¬ÙˆØ¯ (Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ù…ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø¬ÙˆØ§Ù„).");
    else issues.push("âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ÙˆØ³Ù… viewport (Ù‚Ø¯ ÙŠØ±ÙØ¶ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø£Ø¯Ø³Ù†Ø³ Ù„Ø¹Ø¯Ù… ØªÙˆØ§ÙÙ‚Ù‡ Ù…Ø¹ Ø§Ù„Ù‡ÙˆØ§ØªÙ).");

    // H1
    let h1s=html.match(/<h1[^>]*>(.*?)<\/h1>/gi)||[];
    if(h1s.length===0) issues.push("âš ï¸ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø¹Ù†ÙˆØ§Ù† Ø±Ø¦ÙŠØ³ÙŠ H1.");
    else issues.push("âœ”ï¸ ÙŠÙˆØ¬Ø¯ Ø¹Ù†ÙˆØ§Ù† Ø±Ø¦ÙŠØ³ÙŠ H1.");

    // Ø§Ù„ØµÙˆØ± ÙˆÙˆØ³Ù… alt
    let imgs=[...html.matchAll(/<img[^>]+>/gi)];
    let missingAlt=imgs.filter(img=>!/alt=/i.test(img[0]));
    if(imgs.length===0) issues.push("âš ï¸ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ ØµÙˆØ± ÙÙŠ Ø§Ù„ØµÙØ­Ø©.");
    else if(missingAlt.length>0) issues.push("âš ï¸ Ø¨Ø¹Ø¶ Ø§Ù„ØµÙˆØ± Ø¨Ø¯ÙˆÙ† ÙˆØ³Ù… alt (ÙŠØ¬Ø¨ Ø¥Ø¶Ø§ÙØ© ÙˆØµÙ Ù†ØµÙŠ Ù„Ù„ØµÙˆØ±).");
    else issues.push("âœ”ï¸ ÙƒÙ„ Ø§Ù„ØµÙˆØ± ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙˆØ³Ù… alt.");

    // Ù…Ø­ØªÙˆÙ‰ Ù…Ø­Ø¸ÙˆØ±
    let badWords=["porn","sex","gambling","drugs","torrent"];
    let lowerHtml=html.toLowerCase();
    let found=badWords.find(w=>lowerHtml.includes(w));
    if(found) issues.push("âŒ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙŠØ­ØªÙˆÙŠ ÙƒÙ„Ù…Ø§Øª Ù…Ø­Ø¸ÙˆØ±Ø© ÙÙŠ Ø³ÙŠØ§Ø³Ø§Øª Ø£Ø¯Ø³Ù†Ø³: "+found);
    else issues.push("âœ”ï¸ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ù„Ø§ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ ÙƒÙ„Ù…Ø§Øª Ù…Ø­Ø¸ÙˆØ±Ø© Ø´Ø§Ø¦Ø¹Ø©.");

    // Ø¥Ø®Ø±Ø§Ø¬ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
    let out="<h3>ğŸ“Š ØªÙ‚Ø±ÙŠØ± Ø§Ù„ÙØ­Øµ:</h3><ul>";
    issues.forEach(i=>out+="<li>"+i+"</li>");
    out+="</ul><p style='color:#555;'>â„¹ï¸ Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ¹Ø·ÙŠ ÙØ­ØµÙ‹Ø§ Ø£ÙˆÙ„ÙŠÙ‹Ø§ ÙÙ‚Ø·ØŒ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ ØªÙ‚Ø±ÙŠØ± ÙƒØ§Ù…Ù„ Ø§Ø³ØªØ®Ø¯Ù… Ø£Ø¯ÙˆØ§Øª Ù…Ø«Ù„ <a href='https://pagespeed.web.dev/' target='_blank'>PageSpeed Insights</a> Ùˆ <a href='https://search.google.com/test/mobile-friendly' target='_blank'>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ø¬ÙˆØ§Ù„</a>.</p>";
    document.getElementById("result").innerHTML=out;
  })
  .catch(err=>{
    document.getElementById("result").innerHTML="âŒ ØªØ¹Ø°Ø± Ø¬Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹: "+err.message;
  });
}
</script>
</body>
</html>
